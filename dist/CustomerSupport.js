"use strict";
// export interface CustomerSupport {
//     childOrderId: number
//     userId: number
Object.defineProperty(exports, "__esModule", { value: true });
exports.CustomerSupportEntity = exports.isAnswerAllowedByType = exports.isAnswerAllowedByRole = exports.CustomerSupportTypeList = exports.CustomerSupportAnswer = exports.CustomerSupportType = void 0;
exports.getCustomerSupportTypeString = getCustomerSupportTypeString;
const User_1 = require("./User");
//     text: string
//     img: string | null
// }
// export class CustomerSupportEntity implements CustomerSupport {
//     constructor(
//         public childOrderId: number,
//         public userId: number,
//         public text: string,
//         public img: string | null
//     ) { }
// }
// export interface NewCustomerSupport {
//     childOrderId: number
//     text: string
// }
// export class NewCustomerSupportEntity implements NewCustomerSupport {
//     constructor(
//         public childOrderId: number,
//         public text: string
//     ) { }
// }
var CustomerSupportType;
(function (CustomerSupportType) {
    // Partner
    CustomerSupportType[CustomerSupportType["Partner_UnableToSendOnTime"] = 1] = "Partner_UnableToSendOnTime";
    CustomerSupportType[CustomerSupportType["Partner_NoStock"] = 2] = "Partner_NoStock";
    // User
    CustomerSupportType[CustomerSupportType["User_NotOnTime"] = 3] = "User_NotOnTime";
    CustomerSupportType[CustomerSupportType["User_Generic"] = 4] = "User_Generic";
})(CustomerSupportType || (exports.CustomerSupportType = CustomerSupportType = {}));
var CustomerSupportAnswer;
(function (CustomerSupportAnswer) {
    // Answers for Partner_UnableToSendOnTime
    CustomerSupportAnswer[CustomerSupportAnswer["Partner_UnableToSendOnTime_Reprogram"] = 1] = "Partner_UnableToSendOnTime_Reprogram";
    CustomerSupportAnswer[CustomerSupportAnswer["Partner_UnableToSendOnTime_Cancel"] = 2] = "Partner_UnableToSendOnTime_Cancel";
    // Answers for Partner_NoStock
    CustomerSupportAnswer[CustomerSupportAnswer["Partner_NoStock_SendAnyway"] = 3] = "Partner_NoStock_SendAnyway";
    CustomerSupportAnswer[CustomerSupportAnswer["Partner_NoStock_Cancel"] = 4] = "Partner_NoStock_Cancel";
})(CustomerSupportAnswer || (exports.CustomerSupportAnswer = CustomerSupportAnswer = {}));
exports.CustomerSupportTypeList = Object.values(CustomerSupportType).filter(value => typeof value === 'number');
function getCustomerSupportTypeString(customerSupportType) {
    switch (customerSupportType) {
        case CustomerSupportType.Partner_UnableToSendOnTime:
            return "No se puede enviar a tiempo";
        case CustomerSupportType.Partner_NoStock:
            return "No hay stock";
        case CustomerSupportType.User_NotOnTime:
            return "No se entregÃ³ a tiempo";
        case CustomerSupportType.User_Generic:
            return "Otro";
    }
}
const isAnswerAllowedByRole = (role, answer) => {
    switch (answer) {
        // Answers that a customer can give to a PQR generated by a partner
        case CustomerSupportAnswer.Partner_UnableToSendOnTime_Reprogram:
        case CustomerSupportAnswer.Partner_UnableToSendOnTime_Cancel:
        case CustomerSupportAnswer.Partner_NoStock_SendAnyway:
        case CustomerSupportAnswer.Partner_NoStock_Cancel:
            return [User_1.UserRole.User, User_1.UserRole.Partner].includes(role);
    }
};
exports.isAnswerAllowedByRole = isAnswerAllowedByRole;
const isAnswerAllowedByType = (type, answer) => {
    switch (type) {
        case CustomerSupportType.Partner_UnableToSendOnTime:
            return answer === CustomerSupportAnswer.Partner_UnableToSendOnTime_Reprogram || answer === CustomerSupportAnswer.Partner_UnableToSendOnTime_Cancel;
        case CustomerSupportType.Partner_NoStock:
            return answer === CustomerSupportAnswer.Partner_NoStock_SendAnyway || answer === CustomerSupportAnswer.Partner_NoStock_Cancel;
        case CustomerSupportType.User_NotOnTime:
        case CustomerSupportType.User_Generic:
            return true;
    }
};
exports.isAnswerAllowedByType = isAnswerAllowedByType;
class CustomerSupportEntity {
    constructor(childOrderId, userCreatorId, userAnsweredId, type, answer, genericText) {
        this.childOrderId = childOrderId;
        this.userCreatorId = userCreatorId;
        this.userAnsweredId = userAnsweredId;
        this.type = type;
        this.answer = answer;
        this.genericText = genericText;
    }
}
exports.CustomerSupportEntity = CustomerSupportEntity;
